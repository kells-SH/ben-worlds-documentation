<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:image" content="images/MHCP_OG_image.jpg"/>
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
  <title>MHCP Creator Made Docs</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <!-- Add GitHub Markdown CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css">
  <link rel="stylesheet" href="/assets/css/styles.css?v=4633a66e9b4499c8614a483d910c8b4277e9467a">
  <style>
    /* Dark mode fixes for markdown content */
    [data-theme="dark"] .markdown-body {
      color: #e6edf3;
      background-color: transparent;
    }
    
    [data-theme="dark"] .markdown-body h1,
    [data-theme="dark"] .markdown-body h2,
    [data-theme="dark"] .markdown-body h3,
    [data-theme="dark"] .markdown-body h4,
    [data-theme="dark"] .markdown-body h5,
    [data-theme="dark"] .markdown-body h6 {
      color: #e6edf3;
    }
    
    [data-theme="dark"] .markdown-body table {
      background-color: transparent;
      border-collapse: collapse;
      color: #e6edf3;
    }
    
    [data-theme="dark"] .markdown-body table th,
    [data-theme="dark"] .markdown-body table td {
      background-color: #0d1117 !important;
      border: 1px solid #30363d !important;
      color: #e6edf3 !important;
      padding: 6px 13px;
    }
    
    [data-theme="dark"] .markdown-body table th {
      background-color: #21262d !important;
      font-weight: 600;
      color: #f0f6fc !important;
    }
    
    [data-theme="dark"] .markdown-body table tbody tr:nth-child(odd) td {
      background-color: #0d1117 !important;
    }
    
    [data-theme="dark"] .markdown-body table tbody tr:nth-child(even) td {
      background-color: #161b22 !important;
    }
    
    [data-theme="dark"] .markdown-body table tbody tr:hover td {
      background-color: #1c2128 !important;
    }
    
    [data-theme="dark"] .markdown-body pre {
      background-color: #161b22;
      border: 1px solid #30363d;
    }
    
    [data-theme="dark"] .markdown-body code {
      background-color: rgba(110,118,129,0.4);
      color: #e6edf3;
    }
    
    [data-theme="dark"] .markdown-body pre code {
      background-color: transparent;
      color: #e6edf3;
    }
    
    [data-theme="dark"] .markdown-body blockquote {
      border-left: 0.25em solid #30363d;
      color: #8b949e;
    }
    
    [data-theme="dark"] .markdown-body a {
      color: #58a6ff;
    }
    
    [data-theme="dark"] .markdown-body a:hover {
      color: #79c0ff;
    }
    
    /* Enhanced syntax highlighting for dark mode */
    [data-theme="dark"] .markdown-body .highlight pre,
    [data-theme="dark"] .markdown-body pre {
      background-color: #0d1117 !important;
      border: 1px solid #30363d;
    }
    
    [data-theme="dark"] .markdown-body .highlight pre code,
    [data-theme="dark"] .markdown-body pre code {
      background-color: transparent !important;
      color: #e6edf3 !important;
    }
    
    /* GitHub's actual syntax highlighting classes for dark mode */
    [data-theme="dark"] .markdown-body .highlight .kd { color: #ff7b72; } /* Keywords declarations (function, class, etc) - red */
    [data-theme="dark"] .markdown-body .highlight .k { color: #ff7b72; } /* Keywords (if, else, for, etc) - red */
    [data-theme="dark"] .markdown-body .highlight .nx { color: #e6edf3; } /* Names/identifiers - light gray */
    [data-theme="dark"] .markdown-body .highlight .nf { color: #d2a8ff; } /* Function names - purple */
    [data-theme="dark"] .markdown-body .highlight .s1, 
    [data-theme="dark"] .markdown-body .highlight .s2,
    [data-theme="dark"] .markdown-body .highlight .s { color: #a5d6ff; } /* Strings - blue */
    [data-theme="dark"] .markdown-body .highlight .c1,
    [data-theme="dark"] .markdown-body .highlight .c { color: #8b949e; } /* Comments - gray */
    [data-theme="dark"] .markdown-body .highlight .p { color: #e6edf3; } /* Punctuation - light gray */
    [data-theme="dark"] .markdown-body .highlight .mi,
    [data-theme="dark"] .markdown-body .highlight .mf,
    [data-theme="dark"] .markdown-body .highlight .m { color: #79c0ff; } /* Numbers - blue */
    [data-theme="dark"] .markdown-body .highlight .kc { color: #79c0ff; } /* Constants (true, false, null) - blue */
    [data-theme="dark"] .markdown-body .highlight .kt { color: #ff7b72; } /* Type keywords - red */
    [data-theme="dark"] .markdown-body .highlight .na { color: #7ee787; } /* Attributes - green */
    [data-theme="dark"] .markdown-body .highlight .nb { color: #ffa657; } /* Built-ins - orange */
    [data-theme="dark"] .markdown-body .highlight .nc { color: #ffa657; } /* Classes - orange */
    [data-theme="dark"] .markdown-body .highlight .ne { color: #f85149; } /* Exceptions - bright red */
    [data-theme="dark"] .markdown-body .highlight .o { color: #ff7b72; } /* Operators - red */
    [data-theme="dark"] .markdown-body .highlight .ow { color: #ff7b72; } /* Word operators (and, or, not) - red */
    
    /* GitHub's syntax highlighting classes for light mode - GitHub Pages style */
    [data-theme="light"] .markdown-body .highlight .kd { color: #24292e; font-weight: bold; } /* Keywords declarations - bold black */
    [data-theme="light"] .markdown-body .highlight .k { color: #24292e; font-weight: bold; } /* Keywords - bold black */
    [data-theme="light"] .markdown-body .highlight .nx { color: #24292e; } /* Names/identifiers - dark gray */
    [data-theme="light"] .markdown-body .highlight .nf { color: #24292e; } /* Function names - black */
    [data-theme="light"] .markdown-body .highlight .s1, 
    [data-theme="light"] .markdown-body .highlight .s2,
    [data-theme="light"] .markdown-body .highlight .s { color: #032f62; } /* Strings - dark blue */
    [data-theme="light"] .markdown-body .highlight .c1,
    [data-theme="light"] .markdown-body .highlight .c { color: #6a737d; font-style: italic; } /* Comments - gray italic */
    [data-theme="light"] .markdown-body .highlight .p { color: #24292e; } /* Punctuation - dark gray */
    [data-theme="light"] .markdown-body .highlight .mi,
    [data-theme="light"] .markdown-body .highlight .mf,
    [data-theme="light"] .markdown-body .highlight .m { color: #005cc5; } /* Numbers - blue */
    [data-theme="light"] .markdown-body .highlight .kc { color: #24292e; font-weight: bold; } /* Constants - bold black */
    [data-theme="light"] .markdown-body .highlight .kt { color: #24292e; font-weight: bold; } /* Type keywords - bold black */
    [data-theme="light"] .markdown-body .highlight .na { color: #22863a; } /* Attributes - green */
    [data-theme="light"] .markdown-body .highlight .nb { color: #005cc5; } /* Built-ins - blue */
    [data-theme="light"] .markdown-body .highlight .nc { color: #24292e; font-weight: bold; } /* Classes - bold black */
    [data-theme="light"] .markdown-body .highlight .ne { color: #24292e; font-weight: bold; } /* Exceptions - bold black */
    [data-theme="light"] .markdown-body .highlight .o { color: #24292e; } /* Operators - black */
    [data-theme="light"] .markdown-body .highlight .ow { color: #24292e; } /* Word operators - black */
    
    /* Additional syntax highlighting classes for more comprehensive coloring */
    [data-theme="dark"] .markdown-body .pl-kos { color: #ff7b72; } /* Keyword operators */
    [data-theme="dark"] .markdown-body .pl-ent { color: #7ee787; } /* Entity names (green) */
    [data-theme="dark"] .markdown-body .pl-e { color: #ff7b72; } /* Element names (red) */
    [data-theme="dark"] .markdown-body .pl-pse { color: #ff7b72; } /* Pseudo elements (red) */
    [data-theme="dark"] .markdown-body .pl-psf { color: #d2a8ff; } /* Pseudo functions (purple) */
    [data-theme="dark"] .markdown-body .pl-bu { color: #f85149; } /* Built-ins (bright red) */
    [data-theme="dark"] .markdown-body .pl-ii { color: #f85149; } /* Invalid/illegal (bright red) */
    [data-theme="dark"] .markdown-body .pl-corl { color: #a5d6ff; } /* Correlation (blue) */
    [data-theme="dark"] .markdown-body .pl-mb { color: #d2a8ff; } /* Markup bold (purple) */
    [data-theme="dark"] .markdown-body .pl-mi2 { color: #79c0ff; } /* Numbers alternative (blue) */
    [data-theme="dark"] .markdown-body .pl-mdr { color: #d2a8ff; } /* Markup deleted (purple) */
    [data-theme="dark"] .markdown-body .pl-mc { color: #a5d6ff; } /* Markup changed (blue) */
    [data-theme="dark"] .markdown-body .pl-mh { color: #1f6feb; } /* Markup headings (blue) */
    [data-theme="dark"] .markdown-body .pl-ms { color: #7ee787; } /* Markup subheading (green) */
    [data-theme="dark"] .markdown-body .pl-ml { color: #ffdf5d; } /* Markup list (yellow) */
    
    /* TypeScript and JavaScript specific syntax highlighting */
    [data-theme="dark"] .markdown-body .pl-sr { color: #7ee787; } /* String regex (green) */
    [data-theme="dark"] .markdown-body .pl-vpf { color: #d2a8ff; } /* Variable.parameter.function (purple) */
    [data-theme="dark"] .markdown-body .pl-id { color: #ff7b72; } /* Invalid.deprecated (red) */
    [data-theme="dark"] .markdown-body .pl-token.keyword { color: #ff7b72; } /* Token keywords (red) */
    [data-theme="dark"] .markdown-body .pl-token.string { color: #a5d6ff; } /* Token strings (blue) */
    [data-theme="dark"] .markdown-body .pl-token.function { color: #d2a8ff; } /* Token functions (purple) */
    [data-theme="dark"] .markdown-body .pl-token.boolean { color: #79c0ff; } /* Token booleans (blue) */
    [data-theme="dark"] .markdown-body .pl-token.number { color: #79c0ff; } /* Token numbers (blue) */
    [data-theme="dark"] .markdown-body .pl-token.operator { color: #ff7b72; } /* Token operators (red) */
    [data-theme="dark"] .markdown-body .pl-token.punctuation { color: #e6edf3; } /* Token punctuation (white) */
  </style>
</head>
  <!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D794QVKBJQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-D794QVKBJQ');
</script>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="sidebar-backdrop" id="sidebar-backdrop"></div>
      <div class="header-row">
    <div class="left-nav">
    <button class="hamburger" id="menu-toggle">‚ò∞</button>
    <div class="logo"><a href="https://mhcpcreators.github.io/worlds-documentation/" id="logo-link">MHCP Creator Made Docs</a></div>
    <div class="mobile-title mobile-only"><a href="https://mhcpcreators.github.io/worlds-documentation/">Creator Docs</a></div>
    <nav class="nav-links">
      <a href="https://mhcpcreators.github.io/worlds-documentation/docs.html#docs%2Fmanuals-and-cheat-sheets%2Fget-started.md">Creator Docs</a>
      <a href="https://developers.meta.com/horizon-worlds/learn">Meta Docs</a>
      <a href="https://github.com/MHCPCreators/horizonCreatorManual">Creator Manual</a>
      <a href="https://communityforums.atmeta.com/t5/Creator-Forum/ct-p/Meta_Horizon_Creator_Forums">Forums</a>
      <a href="https://mhcpcreators.github.io/worlds-documentation/docs.html#docs%2Fmanuals-and-cheat-sheets%2Fcontribute-to-creator-documentation.md">Contribute</a>
    </nav>
    </div>
          <div class="right-controls">
              <a href="https://www.youtube.com/@metahorizoncreatorprogram" target="_blank" style="color: #FF0000;">
            <i class="fab fa-youtube"></i>
            </a>
      <button id="theme-toggle" aria-label="Toggle dark mode">üåô/‚òÄÔ∏è</button>
  </div>
  </div>
</header>
<div class="page-body">
  <aside class="sidebar">
  <button class="sidebar-close" id="sidebar-close" aria-label="Close sidebar">‚úï</button>
    <h2>Overview</h2>
<input type="text" id="search-input" placeholder="Search documents..." />
    <ul id="doc-list"></ul>
    <hr class="mobile-sidebar-divider mobile-only" />
<div class="mobile-sidebar-nav mobile-only">
  <a href="https://mhcpcreators.github.io/worlds-documentation/docs.html#docs%2Fmanuals-and-cheat-sheets%2Fget-started.md">Creator Docs</a>
  <a href="https://developers.meta.com/horizon-worlds/learn">Meta Docs</a>
  <a href="https://github.com/MHCPCreators/horizonCreatorManual">Creator Manual</a>
  <a href="https://communityforums.atmeta.com/t5/Creator-Forum/ct-p/Meta_Horizon_Creator_Forums">Forums</a>
  <a href="https://mhcpcreators.github.io/worlds-documentation/docs.html#docs%2Fmanuals-and-cheat-sheets%2Fcontribute-to-creator-documentation.md">Contribute</a>
</div>

  </aside>

  <main class="content">
    <div class="doc-container">
      <div id="doc-content"> <h1 id="codeblocks-to-typescript">CodeBlocks to TypeScript</h1>
<p>Author: Seeingblue</p>

<p>A guide for Meta Horizon Worlds creators transitioning from CodeBlocks to TypeScript.</p>

<hr />

<h2 id="table-of-contents">Table of Contents</h2>
<ol>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#part-1-getting-started">Part 1: Getting Started</a></li>
  <li><a href="#part-2-introduction-to-typescript-as-a-codeblock-scripter">Part 2: Introduction to TypeScript</a></li>
  <li><a href="#part-3-sending-and-receiving-events">Part 3: Sending and Receiving Events</a></li>
  <li><a href="#part-4-basic-codeblock-conversions">Part 4: Basic Codeblock Conversions</a></li>
  <li><a href="#further-assistance">Further Assistance</a></li>
</ol>

<hr />

<h2 id="introduction">Introduction</h2>

<h3 id="target-audience">Target Audience</h3>
<p>Creators with an intermediate-level skill in CodeBlocks.</p>

<h3 id="recommended-prerequisite-knowledge">Recommended Prerequisite Knowledge</h3>
<p>A basic understanding of both CodeBlocks and general programming concepts is recommended.</p>

<h3 id="required-resources">Required Resources</h3>
<ul>
  <li><a href="https://developers.meta.com/horizon-worlds/learn/documentation/get-started/install-desktop-editor">Worlds Desktop Editor</a></li>
  <li><a href="https://code.visualstudio.com/">Visual Studio Code</a></li>
</ul>

<h3 id="description">Description</h3>
<p>This guide aims to make TypeScript more approachable by comparing it to your current knowledge of CodeBlocks. It will guide you through the transition from CodeBlocks to TypeScript, highlighting how TypeScript can significantly improve your programming skills for more flexible and functional scripting.</p>

<h3 id="learning-objectives">Learning Objectives</h3>
<p>By following this guide, you will be able to:</p>
<ul>
  <li>Set up and use TypeScript in your worlds.</li>
  <li>Understand TypeScript Properties, Variables, and Events.</li>
  <li>Translate common CodeBlock scripts into TypeScript.</li>
</ul>

<hr />

<h2 id="part-1-getting-started">Part 1: Getting Started</h2>

<h3 id="first-steps">First Steps</h3>
<p>Begin by setting up your development environment:</p>

<ol>
  <li><strong>Install</strong> Microsoft Visual Studio Code.</li>
  <li><strong>Install</strong> Worlds‚Äô client.</li>
  <li><strong>Sign in</strong> to the Worlds‚Äô client with your Meta Account.</li>
  <li><strong>Click</strong> the blue <strong>New World</strong> button in the upper right corner of the Worlds‚Äô client.</li>
</ol>

<h3 id="configuring-your-scripting-environment">Configuring Your Scripting Environment</h3>
<p>Set up your new script with these steps:</p>

<ol>
  <li>Open the <strong>Scripts Panel</strong> from the toolbar (<code class="language-plaintext highlighter-rouge">&lt;/&gt;</code>).</li>
  <li>Click the <strong>+</strong> icon to create a new script.</li>
  <li>Name this script <code class="language-plaintext highlighter-rouge">ExampleScript</code> and press Enter.</li>
  <li>Click the <strong>Settings</strong> gear icon in the Scripts Panel.</li>
  <li>Configure the settings:
    <ul>
      <li><strong>External Editor</strong>: Should be <code class="language-plaintext highlighter-rouge">Default (VS Code)</code>.</li>
      <li><strong>External Editor Directory</strong>: Choose a folder on your computer to store your world‚Äôs scripts.</li>
    </ul>
  </li>
  <li>Click <strong>Apply</strong>.</li>
  <li>Hover over your new <code class="language-plaintext highlighter-rouge">ExampleScript</code>, click the three-dot menu that appears, and select <strong>Open in External Editor</strong>.</li>
  <li>When VS Code opens, confirm that you <strong>trust the authors</strong> of the files in the folder. You will now see the default content for <code class="language-plaintext highlighter-rouge">ExampleScript.ts</code>.</li>
</ol>

<hr />

<h2 id="part-2-introduction-to-typescript-as-a-codeblock-scripter">Part 2: Introduction to TypeScript (as a Codeblock Scripter)</h2>

<p>The following table compares concepts between CodeBlocks and TypeScript.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">CodeBlocks Component</th>
      <th style="text-align: left">TypeScript Equivalent</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Object</strong> (<code class="language-plaintext highlighter-rouge">self</code>)</td>
      <td style="text-align: left"><strong>Entity</strong> (<code class="language-plaintext highlighter-rouge">this.entity</code>)</td>
      <td style="text-align: left">The object in the world that runs the script.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Script</strong></td>
      <td style="text-align: left"><strong>Component (Class)</strong></td>
      <td style="text-align: left">The file that defines the behavior of an object.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Variables</strong></td>
      <td style="text-align: left"><strong>Properties &amp; Variables</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Properties</code> are configured in the editor; <code class="language-plaintext highlighter-rouge">variables</code> are managed within the script.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Events</strong></td>
      <td style="text-align: left"><strong>Methods</strong></td>
      <td style="text-align: left">An event (<code class="language-plaintext highlighter-rouge">the "when..." block</code>) is the trigger. The code you place inside it becomes a method in your script that acts as an event handler.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Actions</strong></td>
      <td style="text-align: left"><strong>Methods</strong></td>
      <td style="text-align: left">An action (<code class="language-plaintext highlighter-rouge">a blue block like teleport player</code>) is a direct equivalent to calling a pre-existing method on an object in TypeScript, like <code class="language-plaintext highlighter-rouge">spawnGizmo.teleportPlayer(player)</code>.</td>
    </tr>
  </tbody>
</table>

<h3 id="code-breakdown">Code Breakdown</h3>
<p>Your default script file will look like this, minus the <code class="language-plaintext highlighter-rouge">preStart()</code> method. We add this ourselves.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">hz</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">horizon/core</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">ExampleScript</span> <span class="kd">extends</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">ExampleScript</span><span class="o">&gt;</span> <span class="p">{</span>

  <span class="k">static</span> <span class="nx">propsDefinition</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// Properties will be defined here</span>
  <span class="p">};</span>

  <span class="nx">preStart</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Runs before the world starts</span>
  <span class="p">}</span>

  <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Runs when the world starts</span>
  <span class="p">}</span>

<span class="p">}</span>

<span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">ExampleScript</span><span class="p">);</span>
</code></pre></div></div>

<p>Let‚Äôs break it down:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">import * as hz from 'horizon/core';</code>
  This line imports the Horizon Worlds scripting API and makes it available using the <code class="language-plaintext highlighter-rouge">hz</code> alias.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">class ExampleScript extends hz.Component&lt;...&gt;</code>
  This declares your script‚Äôs main class. It must extend <code class="language-plaintext highlighter-rouge">hz.Component</code> to be used in Horizon Worlds. The <code class="language-plaintext highlighter-rouge">{</code> marks the beginning of the class.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">static propsDefinition = {};</code>
  This is where you define properties that can be configured in the editor‚Äôs property panel, similar to variables on a CodeBlock script.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">preStart() { ... }</code>
  This method runs for all script components <em>before</em> any <code class="language-plaintext highlighter-rouge">start()</code> methods are called. It‚Äôs ideal for setting up event listeners.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">start() { ... }</code>
  This method is equivalent to the <code class="language-plaintext highlighter-rouge">when world is started</code> event in CodeBlocks. It‚Äôs used for initialization logic.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">hz.Component.register(ExampleScript);</code>
  This final line is required. It registers your class with the Horizon engine so it can be attached to objects. The <code class="language-plaintext highlighter-rouge">}</code> just before this line marks the end of the class.</p>
  </li>
</ul>

<h3 id="test-your-first-script">Test Your First Script</h3>
<p>Let‚Äôs make sure everything is working:</p>

<ol>
  <li>In your <code class="language-plaintext highlighter-rouge">ExampleScript.ts</code> file, add a <code class="language-plaintext highlighter-rouge">console.log()</code> to the <code class="language-plaintext highlighter-rouge">start()</code> method:
    <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">start</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello from TypeScript!</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>Save the file in VS Code. Horizon Worlds will automatically compile it.</li>
  <li>In the Horizon editor, attach your <code class="language-plaintext highlighter-rouge">ExampleScript:ExampleScript</code> in the Object‚Äôs Property Panel.</li>
  <li>Open your <strong>Console</strong> in the editor, clear it.</li>
  <li>Make sure the <strong>World Sim</strong> button is off, the <strong>world sim</strong> button should be grey.</li>
  <li>Click the <strong>World Sim</strong> button and turn it blue, it should say <code class="language-plaintext highlighter-rouge">world sim on</code>.</li>
  <li>You should see ‚ÄúHello from TypeScript!‚Äù printed in the console.</li>
</ol>

<p>Congratulations! You‚Äôve successfully run your first TypeScript script in Horizon Worlds.</p>

<h3 id="typescript-properties--variables">TypeScript Properties &amp; Variables</h3>

<p>Properties are defined in <code class="language-plaintext highlighter-rouge">propsDefinition</code>, while variables are declared directly within the class. Properties cannot be edited during run-time, unlike variables. Here are the common data types:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Data Type</th>
      <th style="text-align: left">Property Definition Example (<code class="language-plaintext highlighter-rouge">propsDefinition</code>)</th>
      <th style="text-align: left">Variable Declaration Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Number</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">num: { type: hz.PropTypes.Number, default: 0 }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private num: number = 0;</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>String</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">str: { type: hz.PropTypes.String, default: 'Hi' }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private str: string = 'Hi';</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Boolean</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">bool: { type: hz.PropTypes.Boolean, default: false }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private bool: boolean = false;</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Vec3</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">vec: { type: hz.PropTypes.Vec3, default: new hz.Vec3() }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private vec: hz.Vec3 = new hz.Vec3();</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Color</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">color: { type: hz.PropTypes.Color, default: new hz.Color() }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private color: hz.Color = new hz.Color();</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Entity</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">obj: { type: hz.PropTypes.Entity }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private obj!: hz.Entity</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Quaternion</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">rot: { type: hz.PropTypes.Quaternion, default: new hz.Quaternion()}</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private rot: hz.Quaternion = new hz.Quaternion();</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Player</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">player: { type: hz.PropTypes.Player }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private player!: hz.Player</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Asset</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">asset: { type: hz.PropTypes.Asset }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private asset!: hz.Asset</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Number[]</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">numList: { type: hz.PropTypes.NumberArray, default: [] }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private numList: number[] = [];</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Entity[]</strong></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">objList: { type: hz.PropTypes.EntityArray, default: [] }</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">private objList: hz.Entity[] = [];</code></td>
    </tr>
  </tbody>
</table>

<p><em>Note: For <code class="language-plaintext highlighter-rouge">Entity</code>, <code class="language-plaintext highlighter-rouge">Player</code>, <code class="language-plaintext highlighter-rouge">Asset</code>, and array types, <code class="language-plaintext highlighter-rouge">default</code> values are optional for properties but recommended for variables.</em></p>

<hr />

<h2 id="part-3-sending-and-receiving-events">Part 3: Sending and Receiving Events</h2>

<p>Events are the foundation of interactivity. Here‚Äôs a summary of the event types available in TypeScript:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Event Type</th>
      <th style="text-align: left">Purpose</th>
      <th style="text-align: left">Example Listener</th>
      <th style="text-align: left">Example Sender</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Built-in</strong></td>
      <td style="text-align: left">Connect to standard events like <code class="language-plaintext highlighter-rouge">OnGrabStart</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.connectCodeBlockEvent(this.entity, hz.CodeBlockEvents.OnGrabStart, (isRightHand, player) =&gt; this.onGrab(isRightHand, player));</code></td>
      <td style="text-align: left"><em>Not sent directly</em></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>CodeBlock</strong></td>
      <td style="text-align: left">Communicate with CodeBlock graphs.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.connectCodeBlockEvent(this.entity, new hz.CodeBlockEvent('MyEvent', []), () =&gt; this.onMyEvent);</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.sendCodeBlockEvent(target, new hz.CodeBlockEvent('MyEvent', []));</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Local Event</strong></td>
      <td style="text-align: left">Communicate with other TypeScript scripts on the <strong>same object</strong>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.connectLocalEvent(this.entity, new hz.LocalEvent&lt;{}&gt;('MyLocal'), () =&gt; this.onMyLocal);</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.sendLocalEvent(target, new hz.LocalEvent&lt;{}&gt;('MyLocal'), {});</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Networked</strong></td>
      <td style="text-align: left">Communicate with scripts on <strong>other objects</strong> or across the network.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.connectNetworkEvent(this.entity, , new hz.NetworkEvent&lt;{}&gt;('MyNetwork'), () =&gt; this.onMyNetwork);</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.sendNetworkEvent(target, new hz.NetworkEvent&lt;{}&gt;('MyNetwork'), {});</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Broadcast</strong></td>
      <td style="text-align: left">Send to all scripts listening for the event.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.connectNetworkBroadcastEvent(new hz.NetworkEvent&lt;{}&gt;('Global'), () =&gt; this.onGlobal);</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">this.sendNetworkBroadcastEvent(new hz.NetworkEvent&lt;{}&gt;('Global'), {});</code></td>
    </tr>
  </tbody>
</table>

<h3 id="example-event-communication">Example: Event Communication</h3>

<p>Here are two scripts demonstrating how to send and receive events. <code class="language-plaintext highlighter-rouge">ScriptA</code> sends events, and <code class="language-plaintext highlighter-rouge">ScriptB</code> listens for them.</p>

<h4 id="senderscriptts"><code class="language-plaintext highlighter-rouge">senderScript.ts</code></h4>
<p>This script sends various events to a target object defined in its properties.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">hz</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">horizon/core</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">SenderScript</span> <span class="kd">extends</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">SenderScript</span><span class="o">&gt;</span> <span class="p">{</span>

  <span class="k">static</span> <span class="nx">propsDefinition</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// The object that will receive our events</span>
    <span class="na">targetObject</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">Entity</span> <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">private</span> <span class="na">message</span><span class="p">:</span> <span class="kr">string</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Hello from the sender!</span><span class="dl">"</span><span class="p">;</span>

  <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">targetObject</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Target object not set!</span><span class="dl">'</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// 1. Send a simple CodeBlock event</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sendCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">targetObject</span><span class="p">,</span> <span class="k">new</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">SimpleEvent</span><span class="dl">'</span><span class="p">,</span> <span class="p">[]));</span>

    <span class="c1">// 2. Send a CodeBlock event with a parameter</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sendCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">targetObject</span><span class="p">,</span> <span class="k">new</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">EventWithParam</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="nx">hz</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nb">String</span><span class="p">]),</span> <span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>

    <span class="c1">// 3. Send a networked event with a parameter object</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">sendNetworkEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">targetObject</span><span class="p">,</span> <span class="k">new</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">NetworkEvent</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">content</span><span class="p">:</span> <span class="kr">string</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">(</span><span class="dl">'</span><span class="s1">NetworkEventWithParam</span><span class="dl">'</span><span class="p">),</span> <span class="p">{</span> <span class="na">content</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">SenderScript</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="receiverscriptts"><code class="language-plaintext highlighter-rouge">receiverScript.ts</code></h4>
<p>This script listens for the events sent by <code class="language-plaintext highlighter-rouge">SenderScript</code>. Attach this script to the target object.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">hz</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">horizon/core</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">ReceiverScript</span> <span class="kd">extends</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">ReceiverScript</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="nx">preStart</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Listen for a simple CodeBlock event</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">connectCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">,</span> <span class="k">new</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">SimpleEvent</span><span class="dl">'</span><span class="p">,</span> <span class="p">[]),</span> <span class="k">this</span><span class="p">.</span><span class="nx">onSimpleEvent</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

        <span class="c1">// Listen for a CodeBlock event with a parameter</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">connectCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">,</span> <span class="k">new</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">codeblockEventNameParams</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="nx">hz</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nb">String</span><span class="p">]),</span> <span class="k">this</span><span class="p">.</span><span class="nx">onEventWithParam</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

        <span class="c1">// Listen for a networked event with a parameter object</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">connectNetworkEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">,</span> <span class="k">new</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">NetworkEvent</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">content</span><span class="p">:</span> <span class="kr">string</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">(</span><span class="dl">'</span><span class="s1">NetworkEventWithParam</span><span class="dl">'</span><span class="p">),</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">onNetworkEventWithParam</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">content</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Ready to receive events</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="nx">onSimpleEvent</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Receiver: SimpleEvent was triggered!</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="nx">onEventWithParam</span><span class="p">(</span><span class="na">message</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Receiver: EventWithParam was triggered with message: "</span><span class="p">${</span><span class="nx">message</span><span class="p">}</span><span class="s2">"`</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="nx">onNetworkEventWithParam</span><span class="p">(</span><span class="na">content</span><span class="p">:</span> <span class="kr">string</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Receiver: Network event received with content: "</span><span class="p">${</span><span class="nx">content</span><span class="p">}</span><span class="s2">"`</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">ReceiverScript</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="part-4-basic-codeblock-conversions">Part 4: Basic Codeblock Conversions</h2>
<p>Here are common CodeBlock patterns converted to TypeScript.</p>

<h3 id="simple-player-respawn-trigger">Simple Player Respawn Trigger</h3>
<p>This script teleports a player to a spawn point when they enter a trigger volume.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">hz</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">horizon/core</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">SimpleRespawnScript</span> <span class="kd">extends</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">SimpleRespawnScript</span><span class="o">&gt;</span> <span class="p">{</span>

  <span class="k">static</span> <span class="nx">propsDefinition</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">respawnPoint</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">Entity</span> <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">preStart</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Listen for a player entering the trigger this script is attached to</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">connectCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">,</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvents</span><span class="p">.</span><span class="nx">OnPlayerEnterTrigger</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onPlayerEnterTrigger</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
  <span class="p">}</span>

  <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">onPlayerEnterTrigger</span><span class="p">(</span><span class="na">player</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Player</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Check if the respawn point is set and is a valid spawn point</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">respawnPoint</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">spawnGizmo</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">respawnPoint</span><span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="nx">hz</span><span class="p">.</span><span class="nx">SpawnPointGizmo</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">spawnGizmo</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">spawnGizmo</span><span class="p">.</span><span class="nx">teleportPlayer</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">SimpleRespawnScript</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="grabbable-object-with-auto-return">Grabbable Object with Auto-Return</h3>
<p>This script makes an object return to its original position 5 seconds after being released.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">hz</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">horizon/core</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">SimpleObjectGrab</span> <span class="kd">extends</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">SimpleObjectGrab</span><span class="o">&gt;</span> <span class="p">{</span>

  <span class="k">private</span> <span class="na">resetTimer</span><span class="p">:</span> <span class="kr">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">private</span> <span class="nx">originalPosition</span><span class="o">!</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Vec3</span> 
  <span class="k">private</span> <span class="nx">originalRotation</span><span class="o">!</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Quaternion</span> 

  <span class="nx">preStart</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">connectCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">,</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvents</span><span class="p">.</span><span class="nx">OnGrabStart</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onGrabStart</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">connectCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">,</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvents</span><span class="p">.</span><span class="nx">OnGrabEnd</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onGrabEnd</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
  <span class="p">}</span>

  <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Store the object's starting position and rotation</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">originalPosition</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="kd">get</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">originalRotation</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="kd">get</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">onGrabStart</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// If a reset timer is running, cancel it</span>
    <span class="k">this</span><span class="p">.</span><span class="k">async</span><span class="p">.</span><span class="nx">clearTimeout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">resetTimer</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">onGrabEnd</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Set a timer to reset the object's position after 5 seconds (5000 ms)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">resetTimer</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="k">async</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">originalPosition</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">originalRotation</span><span class="p">);</span>
    <span class="p">},</span> <span class="mi">5000</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">SimpleObjectGrab</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="vip--anti-teleport-trigger">VIP / Anti-Teleport Trigger</h3>
<p>This script prevents players <em>not</em> on a VIP list from entering a trigger, teleporting them away.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">hz</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">horizon/core</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">VIPOnlyTrigger</span> <span class="kd">extends</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">VIPOnlyTrigger</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="k">static</span> <span class="nx">propsDefinition</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">// Where non-VIPs get sent</span>
        <span class="na">rejectionPoint</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">Entity</span> <span class="p">},</span>
        <span class="c1">// List of VIP player names</span>
        <span class="na">vipList</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">StringArray</span><span class="p">,</span>
            <span class="na">default</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">SeeingBlue</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Mutts_Mutts_Mutts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">burnbuns</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">gausroth</span><span class="dl">'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="nx">preStart</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">connectCodeBlockEvent</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">,</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">CodeBlockEvents</span><span class="p">.</span><span class="nx">OnPlayerEnterTrigger</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onPlayerEnterTrigger</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="k">private</span> <span class="nx">onPlayerEnterTrigger</span><span class="p">(</span><span class="na">player</span><span class="p">:</span> <span class="nx">hz</span><span class="p">.</span><span class="nx">Player</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">playerName</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="kd">get</span><span class="p">();</span>

        <span class="c1">// If the player's name is NOT in the vipList, teleport them</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">vipList</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">playerName</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">rejectionPoint</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">`VIPOnlyTrigger: No rejection point set.`</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kd">const</span> <span class="nx">spawnGizmo</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">rejectionPoint</span><span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="nx">hz</span><span class="p">.</span><span class="nx">SpawnPointGizmo</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">spawnGizmo</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">spawnGizmo</span><span class="p">.</span><span class="nx">teleportPlayer</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">hz</span><span class="p">.</span><span class="nx">Component</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">VIPOnlyTrigger</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="further-assistance">Further Assistance</h2>
<p>For any questions or further assistance, you are encouraged to join the official <a href="https://communityforums.atmeta.com/t5/Creator-Forum/ct-p/Meta_Horizon_Creator_Forums">Worlds creator forums</a>. Happy scripting!</p>
</div>
      <div class="nav-buttons">
        <button id="prev-btn">‚Üê Previous</button>
        <button id="next-btn">Next ‚Üí</button>
      </div>
    </div>
  </main>

  <aside class="right-sidebar">
    <h3>On this page</h3>
    <ul id="doc-toc"></ul>
  </aside>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
  <div class="footer-links">
    <p>Built by MHCP Creators ‚Ä¢ 
      <a href="https://github.com/MHCPCreators/worlds-documentation">GitHub</a> ‚Ä¢ 
      <a href="https://communityforums.atmeta.com/t5/Creator-Forum/ct-p/Meta_Horizon_Creator_Forums">Forums</a> ‚Ä¢
    </p>
    <a href="https://www.youtube.com/@metahorizoncreatorprogram" target="_blank" aria-label="Creator Programs YouTube Channel">
      <i class="fab fa-youtube"></i>
    </a>
  </div>
  </footer>

<script src="/assets/js/docs-script.js?v=4633a66e9b4499c8614a483d910c8b4277e9467a"></script>

</body>
</html>
